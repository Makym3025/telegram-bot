# Telegram AI Agent Bot

Цей бот перетворює чат у Telegram на базову AI IDE. Він може планувати кроки за допомогою Google Gemini, запускати команди у терміналі, створювати та редагувати файли в робочій директорії та повертати результати назад у чат.

## Можливості
- Планування дій через Gemini (створення файлів, виконання команд, читання/допис файлів).
- Захищена робота в межах робочого каталогу (`WORKSPACE_ROOT`).
- Команди:
  - `/start` — вітальне повідомлення.
  - `/setkey <ключ>` — встановити ключ Gemini на час сесії.
  - `/task <опис>` — сформувати план і виконати його.
  - `/run <команда>` — виконати одиночну команду shell.
  - `/read <шлях>` — показати вміст файлу.
  - `/write <шлях> <текст>` — перезаписати файл.
- Збереження короткої історії діалогу для контексту.

## Запуск
1. Встановіть залежності:
   ```bash
   pip install -r requirements.txt
   ```
2. Задайте змінні середовища:
   - `BOT_TOKEN` — токен Telegram Bot API.
   - `GEMINI_API_KEY` — ключ Google Gemini.
   - `WORKSPACE_ROOT` (необов'язково) — директорія, в межах якої агент може змінювати файли.
3. Запустіть бота:
   ```bash
   python bot.py
   ```

## Безпека
- Будь-які файлові операції прив'язані до `WORKSPACE_ROOT` і не вийдуть за його межі.
- Команди виконуються з тайм-аутом і поверненням коду завершення.
- Історія зберігається лише в пам'яті процесу.

## Налаштування під себе
- У промпті агента можна додати власні правила (див. `AIAgent.system_prompt`).
- Додайте обробники або інструменти у `AIAgent.allowed_actions`, щоб розширити можливості.

